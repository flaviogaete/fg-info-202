const Gallery=c=>{const d=a=>Array.from(a.children).map(b=>{const a=b.children[0],c=a.getAttribute("data-size").split("x"),d=a.children[0];return{div:b,src:a.getAttribute("href"),w:parseInt(c[0],10),h:parseInt(c[1],10),msrc:d.getAttribute("src")}}),b=(a,c)=>{const e=document.querySelectorAll(".pswp")[0],b=d(a),f=c=>{const d=window.pageYOffset||document.documentElement.scrollTop,e=b[c].div.getElementsByTagName("img")[0],a=e.getBoundingClientRect();return{x:a.left,y:a.top+d,w:a.width}},g=a.classList.contains("keep-aspect-ratio"),h={index:c,getThumbBoundsFn:g?f:void 0};gallery=new PhotoSwipe(e,PhotoSwipeUI_Default,b,h),gallery.init()},e=(c,d)=>{const a=d||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;const e=a.target||a.srcElement,f=parseInt(e.getAttribute("data-index"),10);return b(c,f),!1},f=d=>{const a=new URLSearchParams(window.location.hash.substr(1)),c=a.get("pid"),e=a.get("gid");if(!c||!e)return;b(d,parseInt(c,10))},a=document.querySelectorAll(c)[0];Array.from(a.getElementsByTagName("img")).forEach(b=>b.onclick=b=>e(a,b)),f(a)};Gallery(".grid")